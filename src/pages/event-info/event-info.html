<!--
  Generated template for the EventInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button color="light" (tap)="navCtrl.parent.parent.pop()" ion-button left>
      <ion-icon name="arrow-back"></ion-icon>
    </button>
    <ion-title>event-info</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-card>

    <ion-item (tap)='this.navCtrl.parent.parent.push("ProfilePage", {id: event.creator.id})'>
      <ion-avatar item-start>
        <img src="{{event.creator.avatar}}">
      </ion-avatar>
      <h2>{{event.creator.name}}</h2>
      <p>{{event.title}}</p>
    </ion-item>

    <img src="{{event.image}}">

    <ion-card-content>
      <p>{{event.description}}</p>
      <p>Distance to event: {{event.distance}}</p>
      <p>Date: {{event.date | date : 'short'}}</p>
      <p>Price: {{event.price}}</p>
    </ion-card-content>

    <ion-row *ngIf='event.mine'>
      <ion-col>
        <button ion-button block color="primary" (tap)="this.navCtrl.parent.parent.push('EventsNewPage', {event: event})">Edit Event</button>
      </ion-col>
      <ion-col>
        <button ion-button block color="danger" (tap)="delete()">Delete Event</button>
      </ion-col>
    </ion-row>

  </ion-card>
  <ion-row>
    <ion-col>
      <ion-input type="number" min='1' [(ngModel)]='quantity' name="price" required></ion-input>
    </ion-col>
    <ion-col>
      <button ion-button block color="danger" (tap)="pagameRar()">Purchase {{quantity}} ({{event.price * quantity}})</button>
    </ion-col>
  </ion-row>
</ion-content>